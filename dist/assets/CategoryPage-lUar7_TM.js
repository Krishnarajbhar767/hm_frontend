import{w,d as I,r,j as e,x as E,R as H,b as B}from"./index-DRzNUvPi.js";import{C as D,a as R}from"./chevron-up-BgzcnU2h.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],T=w("funnel",G);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],U=w("grid-3x3",V);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],X=w("list",W);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],J=w("rotate-ccw",Y);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Q=w("star",K);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O=w("x",Z),z=({title:u,isOpen:d,onToggle:i,children:x})=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{className:"w-full flex justify-between items-center p-4 bg-gray-50 hover:bg-gray-100 transition-colors text-left",onClick:i,children:[e.jsx("span",{className:"font-medium text-foreground",children:u}),d?e.jsx(D,{className:"w-4 h-4 text-foreground"}):e.jsx(R,{className:"w-4 h-4 text-foreground"})]}),d&&e.jsx("div",{className:"p-4 bg-white",children:x})]}),ee=({onFilterChange:u,isOpen:d,toggleSidebar:i})=>{const p=["All Fabrics",...I(s=>s.fabrics).map(s=>s.title)],[k,h]=r.useState("0"),[f,g]=r.useState("200000"),[F,C]=r.useState([0,2e5]),[b,P]=r.useState(""),[j,S]=r.useState(""),[N,$]=r.useState(""),[y,m]=r.useState({price:!0,fabric:!0,color:!0,technique:!0}),A=[F[0]!==0||F[1]!==2e5,b!=="",j!=="",N!==""].filter(Boolean).length,v=s=>{m(l=>({...l,[s]:!l[s]}))},q=()=>{let s=Math.max(0,Number(k)||0),l=Math.min(2e5,Number(f)||2e5);s>l&&([s,l]=[l,s]),C([s,l]),h(s.toString()),g(l.toString()),u({priceRange:[s,l],fabric:b,color:j,technique:N}),d&&i&&i()},L=()=>{h("0"),g("200000"),C([0,2e5]),P(""),S(""),$(""),u({priceRange:[0,2e5],fabric:"",color:"",technique:""})};return e.jsxs(e.Fragment,{children:[d&&e.jsx("div",{className:"fixed inset-0 bg-foreground bg-opacity-50 z-40 lg:hidden",onClick:i}),e.jsxs("div",{className:`fixed inset-y-0 left-0 w-80 bg-white z-40 transform transition-transform duration-300 shadow-xl lg:relative lg:translate-x-0 lg:w-72 lg:shadow-none lg:border-r lg:border-gray-200 ${d?"translate-x-0":"-translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-foreground"}),e.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:["Filters",A>0&&e.jsx("span",{className:"ml-2 bg-foreground text-white text-xs px-2 py-1 rounded-full",children:A})]})]}),e.jsx("button",{onClick:i,className:"lg:hidden p-1 hover:bg-gray-200 rounded-md transition-colors",children:e.jsx(O,{className:"w-5 h-5 text-foreground"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsx(z,{title:"Price Range",isOpen:y.price,onToggle:()=>v("price"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-foreground mb-1",children:"Min Price"}),e.jsx("input",{type:"text",value:k,onChange:s=>h(s.target.value.replace(/[^0-9]/g,"")),placeholder:"â‚¹0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-foreground focus:border-transparent text-sm transition-all duration-200"})]}),e.jsx("div",{className:"text-foreground mt-6",children:"-"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium text-foreground mb-1",children:"Max Price"}),e.jsx("input",{type:"text",value:f,onChange:s=>g(s.target.value.replace(/[^0-9]/g,"")),placeholder:"â‚¹200000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-foreground focus:border-transparent text-sm transition-all duration-200"})]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-foreground",children:[e.jsxs("span",{children:["â‚¹",Number(k||0).toLocaleString()]}),e.jsxs("span",{children:["â‚¹",Number(f||2e5).toLocaleString()]})]})]})}),e.jsx(z,{title:"Fabric",isOpen:y.fabric,onToggle:()=>v("fabric"),children:e.jsx("div",{className:"space-y-2",children:p.map(s=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer capitalize",children:[e.jsx("input",{type:"radio",name:"fabric",value:s==="All Fabrics"?"":s,checked:b===(s==="All Fabrics"?"":s),onChange:l=>P(l.target.value),className:"w-4 h-4 text-foreground border-gray-300 focus:ring-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:s})]},s))})}),e.jsx(z,{title:"Color",isOpen:y.color,onToggle:()=>v("color"),children:e.jsx("div",{className:"space-y-2",children:["All Colors","Black","White","Red","Blue","Green","Yellow","Pink"].map(s=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"color",value:s==="All Colors"?"":s,checked:j===(s==="All Colors"?"":s),onChange:l=>S(l.target.value),className:"w-4 h-4 text-foreground border-gray-300 focus:ring-foreground"}),e.jsxs("div",{className:"flex items-center gap-2",children:[s!=="All Colors"&&e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:s.toLowerCase()}}),e.jsx("span",{className:"text-sm text-gray-700",children:s})]})]},s))})}),e.jsx(z,{title:"Technique",isOpen:y.technique,onToggle:()=>v("technique"),children:e.jsx("div",{className:"space-y-2",children:["All Techniques"].map(s=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"technique",value:s==="All Techniques"?"":s,checked:N===(s==="All Techniques"?"":s),onChange:l=>$(l.target.value),className:"w-4 h-4 text-foreground border-gray-300 focus:ring-foreground"}),e.jsx("span",{className:"text-sm text-gray-700",children:s})]},s))})})]}),e.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:q,className:"w-full bg-foreground text-white py-3 px-4 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Apply Filters"}),e.jsxs("button",{onClick:L,className:"w-full bg-white text-foreground py-3 px-4 rounded-lg border border-foreground hover:bg-gray-50 transition-colors font-medium flex items-center justify-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Clear All Filters"]})]})})]})]})};function ae(){var l;const{id:u,category:d,fabric:i}=E(),x=((l=d||i)==null?void 0:l.replace(/-/g," "))||"Category";console.log(x);const[p,k]=r.useState([]),[h,f]=r.useState([]),[g,F]=r.useState(null),[C,b]=r.useState(!1),[P,j]=r.useState(!0),[S,N]=r.useState(null),[$,y]=r.useState("default"),[m,A]=r.useState("grid"),v=r.useMemo(()=>()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm h-full flex flex-col",children:[e.jsx("div",{className:"relative h-64 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-pulse"}),e.jsxs("div",{className:"p-4 space-y-3 flex-1 flex flex-col",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"}),e.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[e.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded animate-pulse"})]})]})]}),[]);r.useEffect(()=>{const t=new AbortController;async function n(){j(!0),N(null);try{const a=i?`https://srijanfabs.co.in/api/v1/products/${i}/${u}`:`https://srijanfabs.co.in/api/v1/categories/${u}`,o=await fetch(a,{signal:t.signal});if(!o.ok)throw new Error("Failed to fetch data");const c=await o.json(),_=i?c.data:c.data.products;k(_),f(_),F({name:i||c.data.name||x,description:c.data.description||"Explore our curated collection of premium products."})}catch(a){a.name!=="AbortError"&&N(a.message)}finally{j(!1)}}return n(),()=>t.abort()},[u,i,x]);const q=r.useCallback(t=>{const{priceRange:n,fabric:a,color:o,technique:c}=t,_=p.filter(M=>M.price>=n[0]&&M.price<=n[1]&&(a?M.fabric.title.toLowerCase()===a.toLowerCase():!0)&&(o?M.color===o:!0)&&(c?M.technique===c:!0));f(_)},[p]),L=r.useCallback((t,n)=>{const a=[...t];return n==="price-low-to-high"?a.sort((o,c)=>o.price-c.price):n==="price-high-to-low"?a.sort((o,c)=>c.price-o.price):n==="rating"?a.sort((o,c)=>(c.rating||0)-(o.rating||0)):n==="newest"&&a.sort((o,c)=>new Date(c.createdAt)-new Date(o.createdAt)),a},[]),s=r.useCallback(t=>{y(t.target.value),f(n=>L(n,t.target.value))},[L]);return r.useCallback(t=>Array.from({length:5},(n,a)=>e.jsx(Q,{className:`w-3 h-3 ${a<Math.floor(t||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},a)),[]),e.jsx("main",{children:e.jsxs("div",{className:"boxedContainer pb-4",children:[e.jsx("div",{className:"py-8 border-b border-gray-200 bg-white mb-8 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-medium text-foreground capitalize tracking-tight",children:(g==null?void 0:g.name.replace(/-/g," "))||x.replace(/-/g," ")}),e.jsx("p",{className:"text-lg text-foreground max-w-2xl mx-auto leading-relaxed",children:g==null?void 0:g.description}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-foreground",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{children:[h.length," Products Available"]})]})]})})}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-8 gap-4 bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>b(!0),className:"lg:hidden flex items-center gap-2 bg-foreground text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200 font-medium",children:[e.jsx(T,{className:"w-4 h-4"})," Filters"]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[e.jsx("button",{onClick:()=>A("grid"),className:`p-2 rounded-md transition-colors ${m==="grid"?"bg-white shadow-sm text-foreground":"text-foreground hover:text-foreground"}`,children:e.jsx(U,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A("list"),className:`p-2 rounded-md transition-colors ${m==="list"?"bg-white shadow-sm text-foreground":"text-foreground hover:text-foreground"}`,children:e.jsx(X,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Sort by:"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:$,onChange:s,className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-foreground text-sm font-medium cursor-pointer transition-all duration-200",children:[e.jsx("option",{value:"default",children:"Featured"}),e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"price-low-to-high",children:"Price: Low to High"}),e.jsx("option",{value:"price-high-to-low",children:"Price: High to Low"}),e.jsx("option",{value:"rating",children:"Highest Rated"})]}),e.jsx(R,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground pointer-events-none"})]})]})]}),e.jsxs("div",{className:"flex gap-8",children:[e.jsx(ee,{onFilterChange:q,isOpen:C,toggleSidebar:()=>b(!C)}),e.jsx("div",{className:"flex-1",children:P?e.jsx("div",{className:`grid gap-6 ${m==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2":"grid-cols-1"}`,children:Array.from({length:6}).map((t,n)=>e.jsx(v,{},n))}):S?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-red-600 text-2xl",children:"âš "})}),e.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-red-600",children:S})]}):h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-foreground text-2xl",children:"ðŸ“¦"})}),e.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No products found"}),e.jsx("p",{className:"text-foreground",children:"Try adjusting your filters or search criteria"})]}):e.jsx("div",{className:`grid gap-6 ${m==="grid"?"grid-cols-1 sm:grid-cols-2 auto-rows-fr":"grid-cols-1"}`,children:h.map(t=>{var n,a,o;return e.jsxs("div",{className:`capitalize group bg-white border border-gray-200 hover:border-gray-300 hover:shadow-lg transition-all duration-300 rounded-lg overflow-hidden h-full ${m==="list"?"flex":"flex flex-col"}`,children:[e.jsxs("div",{className:`relative overflow-hidden bg-gray-50 ${m==="list"?"w-48 flex-shrink-0":"aspect-[4/5] h-96"}`,children:[e.jsx(se,{src:(n=t.images)==null?void 0:n[0],alt:t.name}),t.stock<10&&t.stock>0&&e.jsxs("div",{className:"absolute top-2 left-2 bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:["Only ",t.stock," ","left"]}),t.stock===0&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("span",{className:"bg-white text-foreground px-3 py-1 rounded-full text-sm font-medium",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground line-clamp-2 group-hover:text-foreground transition-colors",children:t.name}),e.jsx("p",{className:"text-sm text-foreground line-clamp-2 leading-relaxed",children:t.description||"Premium quality product with excellent craftsmanship."}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-xl font-bold text-foreground",children:["â‚¹",((a=t.price)==null?void 0:a.toLocaleString())||"N/A"]}),t.originalPrice&&t.originalPrice>t.price&&e.jsxs("p",{className:"text-sm text-foreground line-through",children:["â‚¹",t.originalPrice.toLocaleString()]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm text-foreground",children:["Stock:"," ",t.stock||"N/A"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-foreground bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Fabric:"})," ",((o=t.fabric)==null?void 0:o.title)||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium capitalize",children:"Color:"})," ",t.color||"N/A"]})]}),e.jsx(B,{to:`/product/${t._id}`,className:"mt-auto block w-full text-center bg-foreground text-white py-3 px-4 rounded-lg hover:bg-foreground/90 transition-colors duration-200 font-medium",children:"View Details"})]})]},t._id)})})})]})]})})}const se=H.memo(function({src:d,alt:i}){const[x,p]=r.useState(!1);return e.jsxs("div",{className:"relative w-full h-full",children:[!x&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-pulse z-10"}),e.jsx("img",{loading:"lazy",src:d,alt:i,onLoad:()=>p(!0),className:`w-full h-full object-cover object-top transition-opacity duration-500 ${x?"opacity-100":"opacity-0"}`})]})});export{ae as default};
