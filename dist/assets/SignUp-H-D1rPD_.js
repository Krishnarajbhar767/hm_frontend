import{u as w,a as f,r as P,j as e,m as a,H as N,I as o,b as q,B as L,V as d,c as A,h as V}from"./index-BJZVsLRM.js";function S(){const m=w(),{handleSubmit:u,register:i,formState:{errors:t},watch:n}=f(),h=n("firstName"),p=n("lastName"),x=n("email"),v=n("password"),y=n("confirmPassword"),[g,c]=P.useState(!1),b=async s=>{console.log(s);const j=d.loading("Please wait...");c(!0);try{const l=await A.sendOtp(s);console.log(l),d.success("An OTP has been successfully sent to your email address."),m("/verify-otp",{state:{...s}})}catch(l){V(l)}finally{d.dismiss(j),c(!1)}},r={hidden:{opacity:0,y:10},visible:s=>({opacity:1,y:0,transition:{duration:.3,delay:s*.1}})};return e.jsx("div",{children:e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"boxedContainer px-8 md:w-[40%] py-8 h-auto",children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:e.jsx(N,{text:"Register"})}),e.jsxs("form",{className:"flex flex-col gap-3 mt-6",onSubmit:u(b,s=>console.log(s)),children:[e.jsx(a.div,{custom:0,initial:"hidden",animate:"visible",variants:r,children:e.jsx(o,{value:h,register:i,name:"firstName",type:"text",label:"Enter your name*",errors:t,rules:{required:"First name is required",minLength:{value:3,message:"First name must be at least 3 characters"},maxLength:{value:20,message:"First Name must not exceed 20 characters"}}})}),e.jsx(a.div,{custom:1,initial:"hidden",animate:"visible",variants:r,children:e.jsx(o,{value:p,register:i,name:"lastName",type:"text",label:"Enter your name*",errors:t,rules:{required:"Last name is required",minLength:{value:3,message:"Last name must be at least 3 characters"},maxLength:{value:20,message:"Last Name must not exceed 20 characters"}}})}),e.jsx(a.div,{custom:2,initial:"hidden",animate:"visible",variants:r,children:e.jsx(o,{value:x,register:i,name:"email",type:"email",label:"Email*",errors:t,rules:{required:"Email is required.",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Please enter a valid email address"}}})}),e.jsx(a.div,{custom:3,initial:"hidden",animate:"visible",variants:r,children:e.jsx(o,{label:"Phone*",name:"phone",type:"tel",register:i,errors:t,rules:{required:"Phone number is required",pattern:{value:/^\d{10}$/,message:"Phone number must be exactly 10 digits"}}})}),e.jsx(a.div,{custom:4,initial:"hidden",animate:"visible",variants:r,children:e.jsx(o,{value:v,register:i,name:"password",type:"password",label:"Password*",errors:t,rules:{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"},maxLength:{value:20,message:"Password must not exceed 20 characters"}}})}),e.jsx(a.div,{custom:5,initial:"hidden",animate:"visible",variants:r,children:e.jsx(o,{value:y,register:i,name:"confirmPassword",type:"password",label:"Confirm Password*",errors:t,rules:{required:"Confirm password is required",validate:s=>s===n("password")||"Passwords must match"}})}),e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:e.jsx(q,{to:"/login",className:"text-right underline text-sm cursor-pointer",children:"Already have an account?..."})}),e.jsx(a.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.7},className:"text-xs text-foreground",children:"Your personal data will be used to support your experience throughout this website, to manage access to your account, and for other purposes described in our privacy policy."}),e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},children:e.jsx(L,{text:"Register",type:"submit",disabled:g,whileHover:{scale:1.02},whileTap:{scale:.98}})})]})]})})}export{S as default};
